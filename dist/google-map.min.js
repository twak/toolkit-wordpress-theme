$(function(){var e="Different types of study abroad programme offer different destinations. Use the map to explore each partner institution. Please note that school destinations are added when you choose a faculty.";toolkitMap.openFlyout(e)}),$(".map-markers").click(function(){var e=function(){var e=null;return $.ajax({async:!1,global:!1,url:"./json/map-markers.json",dataType:"json",success:function(t){e=t}}),e}();return toolkitMap.mapMarkers(e),!1}),$(".map-markers2").click(function(){var e=function(){var e=null;return $.ajax({async:!1,global:!1,url:"./json/map-markers2.json",dataType:"json",success:function(t){e=t}}),e}();return toolkitMap.mapMarkers(e),!1}),$(".go-to-marker").click(function(){var e=$(this).text();return toolkitMap.goToMarker(e),!1}),$(".show-markers").click(function(){return toolkitMap.showMarkers(),!1}),$(".clear-markers").click(function(){return toolkitMap.hideMarkers(),!1}),$(".show-some-markers").click(function(){return toolkitMap.showMarkers("default"),!1}),$(".clear-some-markers").click(function(){return toolkitMap.hideMarkers("default"),!1});var bigscreen=1600,smallScreen=570,iOS=!!navigator.userAgent.match(/(iPad|iPhone|iPod)/g),iOSversion=!1;$(document).on("click",".uni-details",function(e){}),$(".uni-title").click(function(){});var toolkitMap=function(){function e(e){$.extend(g.settings,e),t(),s(g.settings.markers)}function t(){f=new google.maps.Map(document.querySelector(g.settings.el),{zoom:g.settings.zoom,scrollwheel:!1,panControl:!1,zoomControl:!0,mapTypeControl:!1,scaleControl:!1,streetViewControl:!1,overviewMapControl:!1,center:new google.maps.LatLng(g.settings.mapCenterLat,g.settings.mapCenterLng),mapTypeControlOptions:{mapTypeIds:[google.maps.MapTypeId.ROADMAP,d]}}),o()}function o(){var e=new google.maps.StyledMapType([{stylers:[{saturation:-100}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#7AA9DD"}]},{elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#9CBA7F"}]},{featureType:"road.highway",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{}],{name:"Styled Map"});f.mapTypes.set("styled_map",e),f.setMapTypeId("styled_map")}function n(e,t,o,n){var i=i||"residence.png",s=new google.maps.Marker({position:e,map:f,icon:g.settings.iconDir+i});return s.set("type",n),s.set("id",o),a(s,t),s}function a(e,t){infowindow=new google.maps.InfoWindow,google.maps.event.addListener(e,"click",function(){infowindow.setContent('<div class="gm-info-window">'+t+"</div>"),infowindow.open(f,e)})}function s(e){p();for(var t=0;t<e.length;t++){var o=e[t].id,i=e[t].type,a=e[t].lat,s=e[t].lng,r=e[t].title,l=e[t].html,c=new google.maps.LatLng(a,s),m="";m+=r?'<strong class="title">'+r+"</strong>":"",m+=l?'<span class="content">'+l+"</span>":"",y[o]=n(c,m,o,i)}}function r(e){for(i in y)e?y[i].type===e&&y[i].setVisible(!1):y[i].setVisible(!1)}function l(e){for(i in y)e?y[i].type===e&&y[i].setVisible(!0):y[i].setVisible(!0)}function p(){for(i in y)y[i].setMap(null);y=[]}function c(e){google.maps.event.trigger(y[e],"click"),y[e].setMap(f),m(y[e].position.lat(),y[e].position.lng())}function m(e,t){f.setCenter(new google.maps.LatLng(e,t))}function u(e){var t='<div class="gm-flyout"><a href="#" class="gm-flyout-close">close</a><div class="gm-flyout-content">'+e+"</div></div>";$(".gm-wrapper").append(t),$(".gm-flyout-close").click(function(){$(this).parent().remove()})}var f,g=this,y=[],d="custom_style";return g.settings={el:"#map",iconDir:"/assets/img/",mapCenterLat:53.801277,mapCenterLng:-1.548567,zoom:15,markers:[{id:"defaultLeeds",lat:"54.801277",lng:"-1.548567",title:"University of Leeds",type:"default",html:"<span>Default marker</span>"}]},{init:e,openFlyout:u,goToMarker:c,hideMarkers:r,mapMarkers:s,showMarkers:l}}();google.maps.event.addDomListener(window,"load",toolkitMap.init({zoom:2}));