var bigscreen=1600,smallScreen=570,iOS=!!navigator.userAgent.match(/(iPad|iPhone|iPod)/g),iOSversion=!1;$(document).on("click",".uni-details",function(e){}),$(".uni-title").click(function(){});var toolkitMap=function(){var e,t=this,n=[],o="custom_style";t.settings={el:"#googlemap",iconDir:"./assets/dist/img/",mapCenterLat:53.801277,mapCenterLng:-1.548567,zoom:15,markers:[{id:"defaultLeeds",lat:"54.801277",lng:"-1.548567",title:"University of Leeds",type:"default",html:"<span>Default marker</span>",icon:"local-essentials"}]};var s=function(e){$.extend(t.settings,e),l(),c(t.settings.markers)},l=function(){e=new google.maps.Map(document.querySelector(t.settings.el),{zoom:t.settings.zoom,scrollwheel:!1,panControl:!1,zoomControl:!0,mapTypeControl:!1,scaleControl:!1,streetViewControl:!0,overviewMapControl:!1,center:new google.maps.LatLng(t.settings.mapCenterLat,t.settings.mapCenterLng),mapTypeControlOptions:{mapTypeIds:[google.maps.MapTypeId.ROADMAP,o]}}),a()},a=function(){var t=new google.maps.StyledMapType([{stylers:[{saturation:-100}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#7AA9DD"}]},{elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#9CBA7F"}]},{featureType:"road.highway",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"on"}]},{}],{name:"Styled Map"});e.mapTypes.set("styled_map",t),e.setMapTypeId("styled_map")},r=function(t){if(void 0!==t){var n=t,o=[];for(i in n){var s=(n[i],n[i].lat),l=n[i].lng;o.push(new google.maps.LatLng(s,l))}new google.maps.Polyline({path:o,strokeOpacity:.8,strokeColor:"#a97e4f",map:e})}},p=function(i,n,o,s,l){var l=l||"residence.png",a={url:t.settings.iconDir+l,scaledSize:new google.maps.Size(32,32)},r=new google.maps.Marker({position:i,map:e,icon:a});return r.set("type",s),r.set("id",o),g(r,n),r},g=function(t,i){infowindow=new google.maps.InfoWindow,google.maps.event.addListener(t,"click",function(){infowindow.setContent('<div class="gm-info-window">'+i+"</div>"),infowindow.open(e,t)})},c=function(e){u();for(var t=0;t<e.length;t++){var i=e[t].id,o=e[t].type,s=e[t].lat,l=e[t].lng,a=e[t].title,r=e[t].icon,g=e[t].html,c=new google.maps.LatLng(s,l),m="";m+=a?'<strong class="gm-title">'+a+"</strong>":"",m+=g?'<span class="gm-content">'+g+"</span>":"",n[i]=p(c,m,i,o,r)}},m=function(e){for(i in n)e?n[i].type===e&&n[i].setVisible(!1):n[i].setVisible(!1)},y=function(e){for(i in n)e?n[i].type===e&&n[i].setVisible(!0):n[i].setVisible(!0)},f=function(e){for(i in n)e?n[i].type===e&&(n[i].getVisible()?n[i].setVisible(!1):n[i].setVisible(!0)):n[i].getVisible()?n[i].setVisible(!1):n[i].setVisible(!0)},u=function(){for(i in n)n[i].setMap(null);n=[]},d=function(i){n[i].setMap(e),w(n[i].position.lat(),n[i].position.lng()),b(t.settings.zoom)},v=function(e){google.maps.event.trigger(n[e],"click"),d(e)},w=function(t,i){e.setCenter(new google.maps.LatLng(t,i))},b=function(t){e.setZoom(t)},k=function(e){var t='<div class="gm-flyout"><a href="#" class="gm-flyout-close">close</a><div class="gm-flyout-content">'+e+"</div></div>";$(".gm-wrapper").append(t),$(".gm-flyout-close").click(function(){$(this).parent().remove()})};return{init:s,showFlyout:k,mapMarkers:c,hideMarkers:m,showMarkers:y,toggleMarkers:f,goToMarker:d,triggerMarker:v,mapPolyline:r}}();